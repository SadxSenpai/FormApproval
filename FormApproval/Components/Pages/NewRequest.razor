@page "/new/select"
@inject FormApproval.Services.IFormRepository Repo
@inject NavigationManager Nav

<h3>Start a new request</h3>

<p>Select a form type:</p>

<ul class="list-group">
@foreach (var t in Repo.GetTemplates())
{
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
            <div class="fw-bold">@t.Name</div>
            <small class="text-muted">Template ID: @t.Id</small>
        </div>
        <button class="btn btn-primary btn-sm" @onclick="() => OpenTemplate(t.Id)">Open</button>
    </li>
}
</ul>

<style>
    html, body {
        background: radial-gradient(1400px 600px at 20% -10%, rgba(124,92,255,.15), transparent),
                    radial-gradient(1200px 700px at 120% 20%, rgba(38,208,124,.12), transparent),
                    var(--bg) !important;
        color: var(--text);
    }

    /* give the content area some height so you can see the gradient even on empty pages */
    .page {
        min-height: calc(100vh - 120px);
    }

    /* just in case any container brings a white bg */
    .container, .content, main, .page {
        background: transparent !important;
    }
</style>

@code {
    private void OpenTemplate(Guid id)
    {
        Nav.NavigateTo($"/new/{id}");
    }
}